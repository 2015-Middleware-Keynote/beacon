<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Force Layout Example 6</title>
  <link rel="stylesheet" type="text/css" href="lib/font-awesome/css/font-awesome.css"></link>
  <link rel="stylesheet" type="text/css" href="app.css"></link>
  <script defer src="lib/d3/d3.js"></script>
  <script defer src="lib/rxjs/dist/rx.lite.js"></script>
  <script defer src="lib/rxjs/dist/rx.aggregates.js"></script>
  <script defer src="lib/rxjs/dist/rx.binding.js"></script>
  <script defer src="data.js"></script>
  <script defer src="app.js"></script>
</head>

<body>
  <h1>A D3/Rx.JS example</h1>
  <div class="buttons">
    <button id='play' title='Run the Force Layout'>
      <i class='fa fa-play'></i>
    </button>
    <button id='slow' title='Run the clock a single interval'>
      <i class='fa fa-step-forward'></i>
    </button>
    <button id='pause' title='Pause the Force Layout'>
      <i class='fa fa-pause'></i>
    </button>
    <button id='reset' title='Reset Layout to Beginning'>
      <i class='fa fa-undo'></i>
    </button>
  </div>
  <div class="content">
    <div class="legend">
      <div class="legendInner">
        <div class="arrowText">
          <svg height="200" width="15">
            <text x="-120" y="15" transform="rotate(-90)">Time</text>
          </svg>
        </div>
        <div class="arrow">
          <svg width="20" heigth="200" viewBox="0 0 20 200">
            <defs>
              <marker xmlns="http://www.w3.org/2000/svg" id="triangle" viewBox="0 0 10 10" refX="0" refY="5" markerUnits="strokeWidth" markerWidth="4" markerHeight="3" orient="auto">
                <path d="M 0 0 L 10 5 L 0 10 z"/>
              </marker>
            </defs>
            <line x1="10" y1="200" x2="10" y2="10" marker-end="url(#triangle)" stroke="black" stroke-width="3px"/>
          </svg>
        </div>
        <div class="scale"></div>
      </div>
    </div>
    <div class="map">
    </div>
    <div class="userinfo">
      <p class="title">Selected User</p>
      <table>
        <tr>
          <th class="id_t">Id:</th>
          <td class="id_v"></td>
        </tr>
        <tr>
          <th class="name_t">Name:</th>
          <td class="name_v"></td>
        </tr>
        <tr>
          <th class="checkin_t">Check-in:</th>
          <td class="checkin_v"></td>
        </tr>
        <tr>
          <th class="checkout_t">Check-out:</th>
          <td class="checkout_v"></td>
        </tr>
      </table>
    </div>
  </div>
  <div class="footer">
    <div class="info">
      <div>No. of events: <span id="time"/></div>
      <div>No. of events: <span id="interval"/></div>
      <div>No. of nodes : <span id="nodeCount"/></div>
      <div>Log:</div>
      <div id="log"></div>
    </div>
    <div class="news">
      <h3>What's new:</h3>
      <ul>
        <li class="new">Changed the random event stream to mimic a conference
          <ul>
            <li>Conference runds from 08:00 to 18:00
            <li>Traffic surges on the hour
            <li>Migration to keynotes at 10:00 and 14:00
            <li>Migration to lunch at 12:00
            <li>Migration to exit start leaving at 17:00
          </ul>
        </li>
        <li>Added a weighting function, making user check-ins more likely at some locations
        <li>Added a heat-map indicating how long ago a node checked-in
        <li>Click a node and look at it's details to the right of the map
        <li>Play, Pause, Step, Restart buttons work
        <li>Node movements are now based of a stream of user check-in/check-out events
      </ul>
    </div>
  </div>
</body>

</html>
